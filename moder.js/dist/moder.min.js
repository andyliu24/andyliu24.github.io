/*! moder.js v0.1.0 | Front-end AMD/CMD/CommonJS Module (locale) Loader.  | MIT License | By: Pandao | https://github.com/pandao/moder.js | 2016-04-15 */
!function(e){function t(e){return"function"==typeof e}function r(e){return"string"==typeof e}function n(e){return e.replace(/\.js$/i,"")}function s(e){return/\.js$/.test(e)}function o(e){return/\.css$/.test(e)}function i(t,r,n){if(!g.scripts[r]){r in g.scripts||(g.scripts[r]=!0);var s=e.localStorage,o=s.getItem(r);if(o)s.getItem(t)||s.setItem(t,r),n(o);else{var i=new XMLHttpRequest;i.addEventListener("load",function(){if(200!==i.status)throw new Error(d+" _load() `"+r+"` not found.");var e=s.getItem(t);e&&s.removeItem(e),o=i.responseText,s.setItem(r,o),s.setItem(t,r),n(o)},!1),i.open("get",r),i.send(null)}}}function a(e,t,r){var n,a=g.loading[e]||(g.loading[e]=[]);if(res=g.res[e]||g.res[e+f]||{},pkg=res.pkg,a.push(t),n=pkg?g.pkg[pkg].url||g.pkg[pkg].uri:res.url||res.uri||e,s(n)||o(n)||(n+=f),l.saveToLocalStorage)i(e,n,function(t){if(o(n)){if(g.css[n])return;return g.css[n]=!0,void u({content:t})}script=document.createElement("script"),script.type="text/javascript",script.setAttribute("data-module",e),script.innerHTML=t,m.appendChild(script)});else{if(o(n))return void u({url:n});c(n,r&&function(){r(e)})}}function c(e,t){if(!(e in g.scripts)){g.scripts[e]=!0;var r=document.createElement("script");if(t){var n=setTimeout(t,l.timeout);r.onerror=function(){clearTimeout(n),t()};var s=function(){clearTimeout(n)};"onload"in r?r.onload=s:r.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||s()}}return r.type="text/javascript",r.src=e,m.appendChild(r),r}}function u(e){if(e.content){var t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e.content:t.innerHTML=e.content,m.appendChild(t)}else if(e.url){if(g.css[e.url])return;g.css[e.url]=!0;var r=document.createElement("link");r.href=e.url,r.rel="stylesheet",r.type="text/css",m.appendChild(r)}}function p(e,t){e=n(e),g.factory[e]=t;var r=g.loading[e];if(r){for(var s=0,o=r.length;o>s;s++)r[s]();delete g.loading[e]}}function l(e){if(e&&e.join)return l.async.apply(this,arguments);e=n(e);var r=g.modules[e];if(r)return r.exports;var s=g.factory[e];if(!s)throw new Error(d+" Cannot find module `"+e+"`");r=g.modules[e]={exports:{}};var o=t(s)?s.apply(r,[l,r.exports,r]):s;return o?o:r.exports}if(!e.require){var f=".js",d="[Moder.js]",m=document.getElementsByTagName("head")[0],g={css:{},pkg:{},res:{},deps:{},factory:{},modules:{},loading:{},scripts:{}};l.async=function(t,s,o){function i(e){for(var t,r=0,s=e.length;s>r;r++){var l=n(e[r]);l in u||(l in g.factory?(t=g.res[l]||g.res[l+f],t&&"deps"in t&&i(t.deps)):(u[l]=!0,p++,a(l,c,o),t=g.res[l]||g.res[l+f],t&&"deps"in t&&i(t.deps)))}}function c(){if(0===p--){for(var r=[],n=0,o=t.length;o>n;n++)r[n]=l(t[n]);s&&s.apply(e,r)}}s=s||function(){},r(t)&&(t=[t]);var u={},p=0;i(t),c()},l.map=function(e){var t,n;r(e)&&(e=JSON.parse(e)),n=e.res;for(t in n)n.hasOwnProperty(t)&&(g.res[t]=n[t]);n=e.pkg;for(t in n)n.hasOwnProperty(t)&&(g.pkg[t]=n[t])},l.timeout=5e3,l.load=l.async,l.loader=a,l.loadCSS=u,l.ajaxLoader=i,l.loadScript=c,l.saveToLocalStorage=!0,e.require=l,e.define=p}}(this);